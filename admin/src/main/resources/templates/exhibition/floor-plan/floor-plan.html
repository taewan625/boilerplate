<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout=http://www.ultraq.net.nz/thymeleaf/layout
      layout:decorate="~{layout/default}">>

<div layout:fragment="content-fragment" class="container-fluid flex-grow-1 container-p-y">
    <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">EXHIBITION /</span> FLOOR PLAN</h4>

    <div class="row">
        <div class="col-6">
            <div class="card h-100">
                <div class="card-body h-100">
                    <div class="row">
                        <div class="col-6">
                        </div>
                        <div class="col-6">
                            <div class="row justify-content-end">
                                <div class="col-auto">
                                    <button
                                            type="button"
                                            data-bs-toggle="modal"
                                            data-bs-target="#registry-modal"
                                            class="btn btn-primary"
                                            id="btn-registry"><i class='bx bx-upload'></i> Upload</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <table id="datatable" class="table table-hover h-100"></table>
                </div>
            </div>
        </div>


        <div class="col-6">
            <div class="card h-100">
                <div class="card-body">
                    <div class="row">
                        <div class="col-6">
                        </div>
                        <div class="col-6">
                            <div class="row justify-content-end">
                                <div class="col-auto">
                                    <button class="btn btn-success" id="btn-publish"><i class='bx bxs-pin'></i> Publish</button>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 mt-2">
                            <div class="row mt-2">
                                <div class="col-1">
                                    <label class="form-label" for="no">NO</label>
                                    <input type="text" class="form-control-plaintext" id="no" disabled readonly>
                                </div>
                                <div class="col-6">
                                    <label class="form-label" for="filename">FILE NAME</label>
                                    <input type="text" class="form-control-plaintext" id="filename" disabled readonly>
                                </div>
                                <div class="col-2">
                                    <label class="form-label" for="status">STATUS</label>
                                    <input type="text" class="form-control-plaintext" id="status" disabled readonly>
                                </div>
                                <div class="col-3">
                                    <label class="form-label" for="date">DATE</label>
                                    <input type="text" class="form-control-plaintext" id="date" disabled readonly>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-2">
                        <div class="mt-3">
                            <iframe class="border rounded-3" id="viewer" src="" width="100%" height="700px"></iframe>
                        </div>
                        <input type="hidden" id="floorPlanId">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="registry-modal" data-bs-backdrop="static" tabindex="-1">
        <div class="modal-dialog">
            <form class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-registry-title">FLOOR PLAN UPLOAD</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p><span id="modal-exhibition-name"></span> 배치도 파일을 선택해주세요.</p>
                    <div class="row">
                        <div class="col">
                            <label for="file" class="form-label">file</label>
                            <input
                                    type="file"
                                    id="file"
                                    class="form-control"
                            />
                        </div>
                        <p class="text-muted mt-1 mb-0">* 파일 1개(10MB 이하), PDF 파일만 등록할 수 있습니다.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="btn-modal-registry">Save</button>
                </div>
            </form>
        </div>
    </div>

    <script src="/static/js/exhibition/floor-plan/floor-plan.js" defer></script>
</div>

</html>